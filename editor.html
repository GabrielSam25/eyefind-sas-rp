<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GrapesJS Editor</title>

<link rel="stylesheet" href="https://unpkg.com/grapesjs/dist/css/grapes.min.css">
<script src="https://unpkg.com/grapesjs"></script>

<style>
html, body {
  height: 100%;
  margin: 0;
}

#gjs {
  height: 100%;
}

.export-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #000;
  color: #fff;
  padding: 10px 20px;
  border: none;
  cursor: pointer;
  z-index: 9999;
}
</style>
</head>

<body>

<div id="gjs"></div>
<button class="export-btn">Exportar HTML</button>

<script>

var editor = grapesjs.init({
  container: "#gjs",
  height: "100%",
  storageManager: false,
  fromElement: false
});

/* BLOCO SEÇÃO */
editor.BlockManager.add("section", {
  label: "Seção",
  content: '<section style="display:flex;flex-wrap:wrap;padding:40px;gap:20px;background:#f9f9f9;"></section>'
});

/* BLOCO COLUNA */
editor.BlockManager.add("column", {
  label: "Coluna",
  content: '<div style="flex:1 1 300px;min-height:150px;padding:20px;background:#e5e5e5;border-radius:8px;">Coluna</div>'
});

/* BLOCO TITULO */
editor.BlockManager.add("title", {
  label: "Título",
  content: '<h2 style="width:100%;text-align:center;font-size:28px;">Título</h2>'
});

/* BLOCO BOTAO */
editor.BlockManager.add("button", {
  label: "Botão",
  content: '<a href="#" style="display:inline-block;padding:10px 20px;background:#4f46e5;color:white;text-decoration:none;border-radius:6px;">Botão</a>'
});

/* EXPORTAR */
document.querySelector(".export-btn").onclick = function() {

  var html = editor.getHtml();
  var css = editor.getCss();

  var finalCode =
    "<!DOCTYPE html>\n" +
    "<html>\n" +
    "<head>\n" +
    "<meta charset='UTF-8'>\n" +
    "<style>\n" +
    css +
    "\n</style>\n" +
    "</head>\n" +
    "<body>\n" +
    html +
    "\n</body>\n" +
    "</html>";

  console.log(finalCode);
  alert("Código exportado. Abra F12 > Console.");
};

</script>

</body>
</html>
