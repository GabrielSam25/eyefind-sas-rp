<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>GrapesJS Responsivo</title>

<link href="https://unpkg.com/grapesjs/dist/css/grapes.min.css" rel="stylesheet"/>
<script src="https://unpkg.com/grapesjs"></script>

<style>
  html, body {
    height: 100%;
    margin: 0;
  }

  #gjs {
    height: 100%;
  }

  .export-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #111;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    z-index: 9999;
  }
</style>
</head>

<body>

<div id="gjs"></div>
<button class="export-btn">Exportar HTML</button>

<script>
const editor = grapesjs.init({
  container: '#gjs',
  height: '100%',
  fromElement: false,
  storageManager: false,

  deviceManager: {
    devices: [
      { name: 'Desktop', width: '' },
      { name: 'Tablet', width: '768px' },
      { name: 'Mobile', width: '375px' }
    ]
  },

  blockManager: {
    appendTo: '.gjs-blocks-c',
    blocks: [

      {
        id: 'section',
        label: 'Seção Flex',
        category: 'Layout',
        content: `
          <section style="
            display:flex;
            flex-wrap:wrap;
            padding:60px 20px;
            gap:20px;
            justify-content:center;
          ">
          </section>
        `
      },

      {
        id: 'column',
        label: 'Coluna',
        category: 'Layout',
        content: `
          <div style="
            flex:1 1 300px;
            min-height:150px;
            padding:20px;
            background:#f3f4f6;
            border-radius:10px;
          ">
            Conteúdo
          </div>
        `
      },

      {
        id: 'title',
        label: 'Título',
        category: 'Texto',
        content: `
          <h2 style="
            font-size:28px;
            width:100%;
            text-align:center;
          ">
            Título aqui
          </h2>
        `
      },

      {
        id: 'button',
        label: 'Botão',
        category: 'Elementos',
        content: `
          <a href="#" style="
            display:inline-block;
            padding:12px 24px;
            background:#4f46e5;
            color:white;
            text-decoration:none;
            border-radius:8px;
          ">
            Clique Aqui
          </a>
        `
      }

    ]
  }
});

// EXPORTAR
document.querySelector('.export-btn').onclick = () => {
  const html = editor.getHtml();
  const css = editor.getCss();

  const finalCode = `
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
${css}
</style>
</head>
<body>
${html}
</body>
</html>
  `;

  console.log(finalCode);
  alert("Código exportado no console (F12).");
};
</script>

</body>
</html>
