<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Editor GrapesJS</title>

<link rel="stylesheet" href="https://unpkg.com/grapesjs/dist/css/grapes.min.css">
<script src="https://unpkg.com/grapesjs"></script>

<style>
html, body {
  height: 100%;
  margin: 0;
}

#gjs {
  height: 100%;
}

.export-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: black;
  color: white;
  padding: 10px 20px;
  border: none;
  cursor: pointer;
  z-index: 9999;
}
</style>
</head>

<body>

<div id="gjs"></div>
<button class="export-btn">Exportar</button>

<script>

const editor = grapesjs.init({
  container: '#gjs',
  height: '100%',
  storageManager: false,
  fromElement: false,
});

editor.BlockManager.add('section', {
  label: 'Seção Flex',
  content: '<section style="display:flex;flex-wrap:wrap;padding:40px;gap:20px;"></section>'
});

editor.BlockManager.add('column', {
  label: 'Coluna',
  content: '<div style="flex:1 1 300px;min-height:150px;padding:20px;background:#eee;border-radius:10px;">Coluna</div>'
});

editor.BlockManager.add('title', {
  label: 'Título',
  content: '<h2 style="width:100%;text-align:center;">Título</h2>'
});

editor.BlockManager.add('button', {
  label: 'Botão',
  content: '<a href="#" style="padding:10px 20px;background:#4f46e5;color:white;border-radius:6px;display:inline-block;">Botão</a>'
});

document.querySelector('.export-btn').onclick = function() {

  var html = editor.getHtml();
  var css = editor.getCss();

  var finalCode = "<!DOCTYPE html>\n<html>\n<head>\n<meta charset='UTF-8'>\n<style>\n"
    + css +
    "\n</style>\n</head>\n<body>\n"
    + html +
    "\n</body>\n</html>";

  console.log(finalCode);
  alert("Código exportado no console (F12)");
};

</script>

</body>
</html>
